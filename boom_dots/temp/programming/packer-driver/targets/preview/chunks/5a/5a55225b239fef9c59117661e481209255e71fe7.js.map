{"version":3,"sources":["file:///G:/code/cocos%E7%BB%83%E4%B9%A0/explosionPoint/assets/scripts/game.ts"],"names":["_decorator","Component","Input","input","Node","tween","UITransform","v3","view","ccclass","property","NewComponent","type","height","fireStatus","start","placePlayer","on","EventType","TOUCH_START","fire","onDestroy","off","update","deltaTime","getVisibleSize","console","log","playerNode","setPosition","to","position","getComponent","contentSize","y","tweenDuration"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,I,OAAAA,I;;;;;;;;;OACtE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;8BAGjBW,Y,WADZF,OAAO,CAAC,cAAD,C,UAGHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAER;AAAP,OAAD,C,2BAHb,MACaO,YADb,SACkCV,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA,eAIxCY,MAJwC,GAIvB,CAJuB;AAAA,eAKxCC,UALwC,GAKlB,KALkB;AAAA;;AAOxCC,QAAAA,KAAK,GAAG;AACJ,eAAKC,WAAL;AACA,eAAKF,UAAL,GAAkB,KAAlB,CAFI,CAGJ;;AACAX,UAAAA,KAAK,CAACc,EAAN,CAASf,KAAK,CAACgB,SAAN,CAAgBC,WAAzB,EAAsC,KAAKC,IAA3C,EAAiD,IAAjD;AACH,SAZuC,CAaxC;;;AACAC,QAAAA,SAAS,GAAI;AACTlB,UAAAA,KAAK,CAACmB,GAAN,CAAUpB,KAAK,CAACgB,SAAN,CAAgBC,WAA1B,EAAuC,KAAKC,IAA5C,EAAkD,IAAlD;AACH;;AACDG,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDR,QAAAA,WAAW,GAAE;AACT;AACA,eAAKH,MAAL,GAAcL,IAAI,CAACiB,cAAL,GAAsBZ,MAApC;AACAa,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,MAAjB,EAAwB,IAAxB;AACA,eAAKe,UAAL,CAAgBC,WAAhB,CAA4BtB,EAAE,CAAC,CAAD,EAAG,CAAC,KAAKM,MAAN,GAAa,CAAhB,CAA9B,EAJS,CAMT;;AACAR,UAAAA,KAAK,CAAC,KAAKuB,UAAN,CAAL,CAAuBE,EAAvB,CAA0B,EAA1B,EAA6B;AACzBC,YAAAA,QAAQ,EAACxB,EAAE,CAAC,CAAD,EAAG,CAAC,KAAKM,MAAN,GAAa,CAAb,GAAe,KAAKe,UAAL,CAAgBI,YAAhB,CAA6B1B,WAA7B,EAA0C2B,WAA1C,CAAsDC,CAAxE;AADc,WAA7B,EAEGnB,KAFH;AAGH,SA/BuC,CAiCxC;;;AACAK,QAAAA,IAAI,GAAE;AACF,cAAG,KAAKN,UAAR,EAAoB;AACpB,eAAKA,UAAL,GAAkB,IAAlB;AACA,cAAIqB,aAAa,GAAG,GAApB;AACA9B,UAAAA,KAAK,CAAC,KAAKuB,UAAN,CAAL,CAAuBE,EAAvB,CAA0BK,aAA1B,EAAwC;AACpCJ,YAAAA,QAAQ,EAACxB,EAAE,CAAC,CAAD,EAAG,KAAKM,MAAL,GAAY,CAAf;AADyB,WAAxC,EAEGE,KAFH;AAGH;;AAzCuC,O;;;;;iBAGrB,I","sourcesContent":["import { _decorator, Component, Input, input, Node, tween, UITransform, v3, view } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('NewComponent')\nexport class NewComponent extends Component {\n    // 绑定玩家节点\n    @property({type: Node})\n    playerNode: Node = null\n    height: number = 0\n    fireStatus: boolean = false\n    \n    start() {\n        this.placePlayer()\n        this.fireStatus = false\n        // 绑定点击事件\n        input.on(Input.EventType.TOUCH_START, this.fire, this);\n    }\n    // 销毁绑定事件\n    onDestroy () {\n        input.off(Input.EventType.TOUCH_START, this.fire, this);\n    }\n    update(deltaTime: number) {\n        \n    }\n\n    placePlayer(){\n        // 获取屏幕可见区域的宽高\n        this.height = view.getVisibleSize().height\n        console.log(this.height,\"高度\")\n        this.playerNode.setPosition(v3(0,-this.height/4))\n\n        // 如果10s之后玩家还没有操作，那么英雄掉落，游戏结束\n        tween(this.playerNode).to(10,{\n            position:v3(0,-this.height/2+this.playerNode.getComponent(UITransform).contentSize.y)\n        }).start()\n    }\n\n    // 发射\n    fire(){\n        if(this.fireStatus) return\n        this.fireStatus = true\n        let tweenDuration = 0.6\n        tween(this.playerNode).to(tweenDuration,{\n            position:v3(0,this.height/2)\n        }).start()\n    }\n}\n\n"]}